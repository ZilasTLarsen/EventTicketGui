<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.shape.SVGPath?>
<?import javafx.scene.text.Font?>

<BorderPane prefHeight="700.0" prefWidth="1400.0" styleClass="root" stylesheets="@style.css" xmlns="http://javafx.com/javafx/24.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="dk.easv.ticketgui.AdminController">


    <top>
        <HBox alignment="CENTER_LEFT" spacing="15" styleClass="header">
            <padding>
                <Insets top="20" right="30" bottom="20" left="30"/>
            </padding>


            <StackPane styleClass="header-icon-admin">
                <SVGPath content="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z" styleClass="icon-path"/>
            </StackPane>

            <VBox spacing="2">
                <Label text="Admin Dashboard" styleClass="header-title">
                    <font>
                        <Font name="System Bold" size="24"/>
                    </font>
                </Label>
                <Label text="Welcome, 1" styleClass="header-subtitle">
                    <font>
                        <Font size="14"/>
                    </font>
                </Label>
            </VBox>


            <Region HBox.hgrow="ALWAYS"/>


            <Button fx:id="logoutButton" onAction="#handleLogout" text="Logout" styleClass="logout-button">
                <graphic>
                    <SVGPath content="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z" styleClass="logout-icon"/>
                </graphic>
            </Button>
        </HBox>
    </top>


    <center>
        <VBox spacing="30">
            <padding>
                <Insets top="30" right="30" bottom="30" left="30"/>
            </padding>


            <HBox spacing="20" alignment="CENTER">

                <VBox styleClass="stat-card" spacing="15" HBox.hgrow="ALWAYS">
                    <padding>
                        <Insets top="25" right="25" bottom="25" left="25"/>
                    </padding>

                    <HBox alignment="CENTER_LEFT" spacing="15">
                        <VBox spacing="5" HBox.hgrow="ALWAYS">
                            <Label text="Total Users" styleClass="stat-label">
                                <font>
                                    <Font size="14"/>
                                </font>
                            </Label>
                            <Label fx:id="totalUsersLabel" text="3" styleClass="stat-value">
                                <font>
                                    <Font name="System Bold" size="36"/>
                                </font>
                            </Label>
                        </VBox>

                        <StackPane styleClass="stat-icon-blue-admin">
                            <SVGPath content="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z" styleClass="icon-path-white"/>
                        </StackPane>
                    </HBox>
                </VBox>


                <VBox styleClass="stat-card" spacing="15" HBox.hgrow="ALWAYS">
                    <padding>
                        <Insets top="25" right="25" bottom="25" left="25"/>
                    </padding>

                    <HBox alignment="CENTER_LEFT" spacing="15">
                        <VBox spacing="5" HBox.hgrow="ALWAYS">
                            <Label text="Coordinators" styleClass="stat-label">
                                <font>
                                    <Font size="14"/>
                                </font>
                            </Label>
                            <Label fx:id="coordinatorsLabel" text="2" styleClass="stat-value">
                                <font>
                                    <Font name="System Bold" size="36"/>
                                </font>
                            </Label>
                        </VBox>

                        <StackPane styleClass="stat-icon-green-admin">
                            <SVGPath content="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm6-3c.2 0 .39.03.58.08C19.43 10.4 20 9.27 20 8c0-2.21-1.79-4-4-4-.52 0-1.01.12-1.45.32C15.47 5.25 16 6.56 16 8s-.53 2.75-1.45 3.68c.44.2.93.32 1.45.32zm3.31 2.9c1.27.73 2.69 1.67 2.69 3.1v2h4v-2c0-1.79-2.47-2.81-4.31-3.47-.61.37-1.28.68-1.99.93l-.39.44z" styleClass="icon-path-white"/>
                        </StackPane>
                    </HBox>
                </VBox>


                <VBox styleClass="stat-card" spacing="15" HBox.hgrow="ALWAYS">
                    <padding>
                        <Insets top="25" right="25" bottom="25" left="25"/>
                    </padding>

                    <HBox alignment="CENTER_LEFT" spacing="15">
                        <VBox spacing="5" HBox.hgrow="ALWAYS">
                            <Label text="Staff Users" styleClass="stat-label">
                                <font>
                                    <Font size="14"/>
                                </font>
                            </Label>
                            <Label fx:id="staffUsersLabel" text="1" styleClass="stat-value">
                                <font>
                                    <Font name="System Bold" size="36"/>
                                </font>
                            </Label>
                        </VBox>

                        <StackPane styleClass="stat-icon-purple-admin">
                            <SVGPath content="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" styleClass="icon-path-white"/>
                        </StackPane>
                    </HBox>
                </VBox>
            </HBox>


            <VBox spacing="20" styleClass="table-container">
                <padding>
                    <Insets top="25" right="25" bottom="25" left="25"/>
                </padding>


                <HBox alignment="CENTER_LEFT">
                    <Label text="User Management" styleClass="section-title">
                        <font>
                            <Font name="System Bold" size="22"/>
                        </font>
                    </Label>


                    <Region HBox.hgrow="ALWAYS"/>


                    <Button fx:id="addUserButton" onAction="#handleAddUser" text="Add User" styleClass="add-user-button">
                        <graphic>
                            <SVGPath content="M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" styleClass="button-icon-white"/>
                        </graphic>
                        <font>
                            <Font name="System Bold" size="14"/>
                        </font>
                    </Button>
                </HBox>


                <TableView fx:id="userTable" styleClass="user-table" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="userColumn" text="USER" prefWidth="250" styleClass="table-column">
                            <cellValueFactory>
                                <javafx.scene.control.cell.PropertyValueFactory property="username"/>
                            </cellValueFactory>
                        </TableColumn>

                        <TableColumn fx:id="emailColumn" text="EMAIL" prefWidth="280" styleClass="table-column">
                            <cellValueFactory>
                                <javafx.scene.control.cell.PropertyValueFactory property="email"/>
                            </cellValueFactory>
                        </TableColumn>

                        <TableColumn fx:id="roleColumn" text="ROLE" prefWidth="180" styleClass="table-column">
                            <cellValueFactory>
                                <javafx.scene.control.cell.PropertyValueFactory property="role"/>
                            </cellValueFactory>
                        </TableColumn>

                        <TableColumn fx:id="createdColumn" text="CREATED" prefWidth="150" styleClass="table-column">
                            <cellValueFactory>
                                <javafx.scene.control.cell.PropertyValueFactory property="createdDate"/>
                            </cellValueFactory>
                        </TableColumn>

                        <TableColumn fx:id="actionsColumn" text="ACTIONS" prefWidth="340" styleClass="table-column">
                        </TableColumn>
                    </columns>
                    <placeholder>
                        <Label text="No users found" styleClass="table-placeholder"/>
                    </placeholder>
                </TableView>
            </VBox>
        </VBox>
    </center>
</BorderPane>
